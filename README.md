# lein-haml-sass

Leiningen plugin to compile haml, sass, and scss files.

## Installation

You can install the pluggin by adding lein-haml-sass to your `project.clj` file in the `plugin` section:

```clj
(defproject example "1.2.3"
  :plugins [[lein-haml-sass "0.1.0"]])
```

Run the following command to download the library:

    $ lein deps

## configuration

The configuration for haml, sass, and scss is specified under the `:haml`, `:sass`, and `scss` sections of your `project.clj.

Here is an example of `project.clj` with all the possible definitions.

```clj
(defproject example-project "1.2.3"
  :haml {:src "resources/haml"
         :output-directory "resources/public/html"
         ;; Other options (provided are default values)
         ;; :output-extension html
         ;; :auto-compile-delay 250
         ;; :delete-output-dir true ;; -> when running lein clean it will delete the output directory if it does not contain any file
         ;; :ignore-hooks [:clean :compile] ;; -> if you ue the hooks, allows you to remove some hooks that you don't want to run
         }

  :sass {:src "resources/sass"
         :output-directory "resources/public/css"
         ;; Other options (provided are default values)
         ;; :output-extension css
         ;; :auto-compile-delay 250
         ;; :delete-output-dir true ;; -> when running lein clean it will delete the output directory if it does not contain any file
         ;; :ignore-hooks [:clean :compile] ;; -> if you ue the hooks, allows you to remove some hooks that you don't want to run
         }

    :scss {:src "resources/scss"
         :output-directory "resources/public/css"
         ;; Other options (provided are default values)
         ;; :output-extension css
         ;; :auto-compile-delay 250
         ;; :delete-output-dir true ;; -> when running lein clean it will delete the output directory if it does not contain any file
         ;; :ignore-hooks [:clean :compile] ;; -> if you ue the hooks, allows you to remove some hooks that you don't want to run
         }
    )
```

It is good to know that you only need to specify the section you plan to use.  So if you are only interested in haml just specify the `:haml` section.


## Usage

Four tasks available:

* haml: compiles haml files
* sass: compiles sass files
* scss: compiles scss files
* haml-sass: compiles haml, sass, and scss files depending on which
  file types are provided in the `project.clj`

For each task, three subtasks are availbale:

* once: compiles the source files once
* auto: keeps the compiler running and watches for new files and file changes
* clean: cleans the files that were generated by the compiler

Here is an example for haml:

Compile your files once:

    $ lein haml once

Let lein-haml-sass watch for changes in your haml sources files:

    $ lein haml auto

To delete all the files generated by lein-haml-sass:

    $ lein haml clean


## Hooks

The following hooks are supported by lein-haml-sass for all haml, sass, and scss types of file:

    $ lein compile
    $ lein clean

To enable the hooks, add the following lein to your `project.clj` file:

```clj
:hooks [leiningen.haml
        leiningen.sass
        leiningen.scss]
```

## TODO

* document usage of project
* allow minification options
* need to do some kind of perf test
* Allow the use of a specific haml version if specified in the project.clj config
* add support for lein2 (test it with lein2)
* create some kind of CI to run against different versions of lein
* Remove all the unnecessary files from the embedded gem (maybe)
* put colors in the terminal output

## License

Copyright (C) 2012 Renaud Tircher

Distributed under the Eclipse Public License, the same as Clojure.
